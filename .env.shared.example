# =============================================================================
# 共享环境变量配置示例
# =============================================================================
# 此文件包含所有店铺共享的配置项
# 复制为 .env.shared 并填写实际值

# -----------------------------------------------------------------------------
# 翻译服务（所有店铺共享）
# -----------------------------------------------------------------------------
GPT_API_KEY=sk-your-openai-api-key
GPT_API_URL=https://api.openai.com/v1
GPT_MODEL=gpt-4o-mini

# -----------------------------------------------------------------------------
# Redis队列（所有店铺共享连接，但使用不同DB）
# -----------------------------------------------------------------------------
REDIS_ENABLED=true
REDIS_URL=redis://default:password@localhost:6379
QUEUE_CONCURRENCY=2

# -----------------------------------------------------------------------------
# 应用环境
# -----------------------------------------------------------------------------
NODE_ENV=production
NODE_TLS_REJECT_UNAUTHORIZED=0

# -----------------------------------------------------------------------------
# 日志配置
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOGGING_LEVEL=info
LOGGING_FILE_ENABLED=true
LOGGING_ENABLE_PERSISTENT_LOGGER=true
LOGGING_PERSISTENCE_LEVEL=INFO
LOGGING_RETENTION_DAYS={"ERROR":30,"WARN":15,"INFO":7,"DEBUG":3}

# -----------------------------------------------------------------------------
# 性能监控
# -----------------------------------------------------------------------------
PERFORMANCE_MONITORING=true
MEMORY_CACHE_LIMIT=100

# -----------------------------------------------------------------------------
# 错误管理
# -----------------------------------------------------------------------------
ERROR_PATTERN_COLLECTION=true
AUTO_RECOVERY_MAX_ATTEMPTS=3

# -----------------------------------------------------------------------------
# 功能开关
# -----------------------------------------------------------------------------
ENABLE_PRODUCT_RELATED_TRANSLATION=true
LINK_CONVERSION_ENABLED=false
LINK_CONVERSION_STRATEGY=conservative

# -----------------------------------------------------------------------------
# API监控
# -----------------------------------------------------------------------------
API_MONITORING_ENABLED=true
API_MONITORING_OPERATIONS=""
API_MONITOR_FAILURE_WARN=0.001
API_MONITOR_FAILURE_ERROR=0.005
API_MONITOR_MIN_SAMPLE=20
API_MONITOR_P95_WARN_RATIO=1.05
API_MONITOR_P95_ERROR_RATIO=1.1
